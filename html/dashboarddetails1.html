<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="css/style.css"/>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<title>Senergy</title>
<link rel="icon" href="images/logo.png">

<style>
    .dashboardDetailsBody{
        font-family: Arial, sans-serif;
        text-align: center;
        padding: 20px;
    }
    canvas {
        max-width: 600px;
        margin: auto;
    }

    button {
        margin-top: 20px;
        padding: 10px 20px;
        font-size: 16px;
        background-color: #1f77b4;
        color: black;
        border: none;
        border-radius: 5px;
        cursor: pointer;
    }


    #barSubtitle, #lineSubtitle, #rollingSubtitle {
        font-size: 18px;
        margin-top: 10px;
        color: #555;
    }

    .dashboard-button {
        width: 80%;
        max-width: 300px;
        padding: 5px;
        margin-bottom: -15px;
        font-size: 18px;
        background-color: #1f77b4;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
    }

    .dropdown-content {
        display: none;
        margin: 0 auto;
        width: 100%;
        max-width: 300px;
        background-color: #2078b3;
        box-shadow: 0px 8px 16px rgba(0, 0, 0, 0.2);
        padding: 10px;
        border-radius: 5px;
    }

    .dropdown-content button {
        display: block;
        width: 100%;
        padding: 10px;
        background-color: 2078b3;
        color: white;
        border: none;
        font-size: 14px;
        text-align: left;
        cursor: pointer;
    }

    .chart{
        display:none;
    }
    .page-container {
    display: flex;
    min-height: 100vh;
    }

    .sidebar-container {
        background-color: #2078b3;
        width: 17%; /* Adjust as needed */
        min-height: 100vh;
        position: sticky;
        top: 0;
    }

    .main-sidebar {
        height: 100%;
        overflow-y: auto;
    }

    .sidebar {
        padding-bottom: 60px; /* Gives some space at the bottom */
    }

    /* Adjust the main content area */
    .main-content {
        flex-grow: 1;
        padding: 20px;
    }
    .properties-container {
    width: 100%;               /* Set the width of the box */
    height: 200px;              /* Set the height of the box */
    overflow-y: auto;           /* Enable vertical scrolling */
    border: 4px solid #ccc;    /* Optional: Add border for better visibility */
    padding: 10px;              /* Add padding inside the box */
    background-color: #f9f9f9; /* Optional: Set a background color */
}
.checkbox-alert{
                display: flex;         
                align-items: center;   
                gap: 65px;  
            }
            input[type="checkbox"] {
                transform: scale(.6);    /* Make the checkbox bigger */
                border-width: 8px;        /* Increase the thickness of the checkbox border */
                border-color: #000;
                margin-right: 15px;       /* Set the color of the border */
                height: 30px;             /* Set height */
                width: 30px;              /* Set width */
                cursor: pointer;         /* Add a pointer cursor when hovering */
            }
            .alert-message {
                display: flex;         
                align-items: center;   
                gap: 20px;
            }
            .property-item{
                display: flex; 
                gap:5%;              /* Enable flexbox for the container */
                align-items: center;         /* Vertically center the items */
                margin-bottom: 10px;         /* Add space between property items */
                padding: 10px;
                border: 1px solid #ddd;     /* Add a border around each property */
                border-radius: 5px;          /* Optional: Round the corners */
                background-color: #fff; 
            }
</style>
</head>
<body>
    <header>
        <nav class="navbar navbar-expand-sm navbar-light border-bottom box-shadow">
            <div class="container-fluid">
                <a class="navbar-brand" style="color:white; font-size: 30px;" href="maindashboard.html"><span> <img height="45px" width="45px" src="images/logo.png"> Senergy</span></a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse justify-content-end" id="navbarSupportedContent">
                    <ul class="navbar-nav">
                        <li class="nav-item">
                            <a class="nav-link text-white" href="ourmission.html">Our Mission</a>
                        </li>
                        <!-- <li class="nav-item">
                            <a class="nav-link text-white" href="aboutus.html">Our Team</a>
                        </li> -->
                        <li class="nav-item">
                            <a class="nav-link text-white" href="index.html">Log Out</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>
    <div class="page-container">
        <div class="sidebar-container">
            <aside class="main-sidebar sidebar-dark-primary elevation-4">
                <!-- Sidebar -->
                <div class="sidebar">
                  <!-- Sidebar Menu -->
                  <nav class="mt-2 total-menu">
                    <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false">
              
                        <li class="nav-item">
                            <button class="dashboard-button" onclick="toggleDropdown('energy-dropdown')"><span> <img height="35px" src="images/energy.png" alt="">  Energy Dashboard</span></button>
                            <div id="energy-dropdown" class="dropdown-content">
                                <button onclick="displayChart('energy-month-end')">Month End</button>
                                <button onclick="displayChart('energy-year-to-date')">Year-to-Date</button>
                                <button onclick="displayChart('energy-rolling-twelve-months')">Rolling Twelve Months</button>
                            </div>
                        </li>
                        <li class="nav-item">
                            <button class="dashboard-button" onclick="toggleDropdown('water-dropdown')"><span> <img height="35px" src="images/water.png" alt="">  Water Dashboard</span></button>
                            <div id="water-dropdown" class="dropdown-content">
                                <button onclick="displayChart('water-month-end')">Month End</button>
                                <button onclick="displayChart('water-year-to-date')">Year-to-Date</button>
                                <button onclick="displayChart('water-rolling-twelve-months')">Rolling Twelve Months</button>
                            </div>
                        </li>
                    </ul>
                  </nav>
                
                  <!-- /.sidebar-menu -->
                </div>
                <!-- /.sidebar -->
              </aside>
        </div>
        <div class="main-content">
            <div class="dashboardDetailsBody">
                <h1>Interactive Dashboard</h1>
                <!-- <div class="mb-4">
                    <h4>Building Address: 123 Main St, Sustainability City, SC 98765</h4>
                </div> -->

                <div class="properties-container mb-5">
                    <div id="property1" class="property-item" onclick="selectProperty('property1', '123 Main St', 75, 120, 150, 10, '$5,000', '200 kWh')">
                        <input type="checkbox" class="property-checkbox" data-property="property1"/>
                        <h6>123 Main St, Sustainability City, SC 98765</h6>
                    </div>
                    <!-- Property 2 -->
                    <div id="property2" class="property-item" onclick="selectProperty('property2', '456 Elm St', 85, 110, 135, 8, '$6,500', '250 kWh')">
                        <input type="checkbox" class="property-checkbox" data-property="property2"/>
                        <h6>456 Elm St, Queens, NY 11378</h6>
                        
                    </div>
                    <!-- Property 3 -->
                    <div id="property3" class="property-item" onclick="selectProperty('property3', '789 Oak St', 65, 130, 115, 12, '$4,000', '300 kWh')">
                        <input type="checkbox" class="property-checkbox" data-property="property3"/>
                        <h6>789 Oak St, Bronx, NY 10903</h6>
                    </div>
                </div>
                
            
                <div id="energy-month-end1" class="chart">
                    <h2 style="margin-bottom: 5%;">Energy Usage - Month End</h2>
                    <canvas id="energyBarChart1" width="500" height="400"></canvas>
                </div>
                <div id="energy-month-end2" class="chart">
                    <h2 style="margin-bottom: 5%;">Energy Usage - Month End</h2>
                    <canvas id="energyBarChart2" width="500" height="400"></canvas>
                </div>
                <div id="energy-month-end3" class="chart">
                    <h2 style="margin-bottom: 5%;">Energy Usage - Month End</h2>
                    <canvas id="energyBarChart3" width="500" height="400"></canvas>
                </div>

                <div id="energy-year-to-date1" class="chart">
                    <h2 style="margin-bottom: 5%;">Energy Usage - Year-to-Date</h2>
                    <canvas id="EnergylineChart1" width="500" height="400"></canvas>
                </div>
                
                <div id="energy-year-to-date2" class="chart">
                    <h2 style="margin-bottom: 5%;">Energy Usage - Year-to-Date</h2>
                    <canvas id="EnergylineChart2" width="500" height="400"></canvas>
                </div>

                <div id="energy-year-to-date3" class="chart">
                    <h2 style="margin-bottom: 5%;">Energy Usage - Year-to-Date</h2>
                    <canvas id="EnergylineChart3" width="500" height="400"></canvas>
                </div>
                
                <div id="energy-rolling-twelve-months1" class="chart">
                    <h2 style="margin-bottom: 5%;">Energy Usage - Rolling Twelve Months</h2>
                    <canvas id="rollingChart1" width="500" height="400"></canvas>
                </div>

                <div id="energy-rolling-twelve-months2" class="chart">
                    <h2 style="margin-bottom: 5%;">Energy Usage - Rolling Twelve Months</h2>
                    <canvas id="rollingChart2" width="500" height="400"></canvas>
                </div>

                <div id="energy-rolling-twelve-months3" class="chart">
                    <h2 style="margin-bottom: 5%;">Energy Usage - Rolling Twelve Months</h2>
                    <canvas id="rollingChart3" width="500" height="400"></canvas>
                </div>
            
                <!-- Water Charts Section -->
                <div id="water-month-end1" class="chart">
                    <h2 style="margin-bottom: 5%;">Water Usage - Month End</h2>
                    <canvas id="waterChart1" width="500" height="400"></canvas>
                </div>

                <div id="water-month-end2" class="chart">
                    <h2 style="margin-bottom: 5%;">Water Usage - Month End</h2>
                    <canvas id="waterChart2" width="500" height="400"></canvas>
                </div>

                <div id="water-month-end3" class="chart">
                    <h2 style="margin-bottom: 5%;">Water Usage - Month End</h2>
                    <canvas id="waterChart3" width="500" height="400"></canvas>
                </div>
                
                <div id="water-year-to-date1" class="chart">
                    <h2 style="margin-bottom: 5%;">Water Usage - Year-to-Date</h2>
                    <canvas id="waterLineChart1" width="500" height="400"></canvas>
                </div>

                <div id="water-year-to-date2" class="chart">
                    <h2 style="margin-bottom: 5%;">Water Usage - Year-to-Date</h2>
                    <canvas id="waterLineChart2" width="500" height="400"></canvas>
                </div>

                <div id="water-year-to-date3" class="chart">
                    <h2 style="margin-bottom: 5%;">Water Usage - Year-to-Date</h2>
                    <canvas id="waterLineChart3" width="500" height="400"></canvas>
                </div>

                <div id="water-rolling-twelve-months1" class="chart">
                    <h2 style="margin-bottom: 5%;">Water Usage - Rolling Twelve Months</h2>
                    <canvas id="waterRollingChart1" width="500" height="400"></canvas>
                </div>

                <div id="water-rolling-twelve-months2" class="chart">
                    <h2 style="margin-bottom: 5%;">Water Usage - Rolling Twelve Months</h2>
                    <canvas id="waterRollingChart2" width="500" height="400"></canvas>
                </div>

                <div id="water-rolling-twelve-months3" class="chart">
                    <h2 style="margin-bottom: 5%;">Water Usage - Rolling Twelve Months</h2>
                    <canvas id="waterRollingChart3" width="500" height="400"></canvas>
                </div>
            </div>
        </div>
    </div>
    
    
    <script type="text/javascript">
       window.onload = function() {
           const selectedProperties = JSON.parse(localStorage.getItem('selectedProperties'));

            // If there are selected properties, check the corresponding checkboxes
            if (selectedProperties && selectedProperties.length > 0) {
                selectedProperties.forEach(propertyId => {
                    const checkbox = document.querySelector(`.property-checkbox[data-property="${propertyId}"]`);
                    if (checkbox) {
                        checkbox.checked = true; // Check the checkbox
                    }
                });
            }
        };

        function toggleDropdown(dropdownId) {
                const dropdown = document.getElementById(dropdownId);
                dropdown.style.display = dropdown.style.display === 'block' ? 'none' : 'block';
            }
    
        // Display the selected chart
        function displayChart(chartId) {
            const charts = document.querySelectorAll('.chart');
            charts.forEach(chart => {
                chart.style.display = 'none';
            });
            //energy
            if (chartId === 'energy-month-end'){
                loadEnergyBarChart1(chartId);
            }
            if (chartId === 'energy-year-to-date'){
                loadEnergyLineChart1(chartId);
            }
            if (chartId === 'energy-rolling-twelve-months'){
                loadRollingChart1(chartId);
            }
            //water
            if (chartId === 'water-month-end'){
                loadEnergyBarChart1(chartId);
            }
            if (chartId === 'water-year-to-date'){
                loadEnergyLineChart1(chartId);
            }
            if (chartId === 'water-rolling-twelve-months'){
                loadRollingChart1(chartId);
            }
            //waste
            if (chartId === 'waste-month-end'){
                loadEnergyBarChart1(chartId);
            }
            if (chartId === 'waste-year-to-date'){
                loadEnergyLineChart1(chartId);
            }
            if (chartId === 'waste-rolling-twelve-months'){
                loadRollingChart1(chartId);
            }
        }
    
        function loadRollingChart1(chartID){
            if(chartID === 'energy-rolling-twelve-months'){
                
                const property1Checkbox = document.querySelector('[data-property="property1"]');
                const property2Checkbox = document.querySelector('[data-property="property2"]');
                const property3Checkbox = document.querySelector('[data-property="property3"]');


                if ((property1Checkbox.checked && !property2Checkbox.checked && !property3Checkbox.checked) || (!property1Checkbox.checked && property2Checkbox.checked && !property3Checkbox.checked) || (!property1Checkbox.checked && !property2Checkbox.checked && property3Checkbox.checked)) {

                    document.getElementById('energy-rolling-twelve-months1').style.display = 'block';

                    const rollingGasUnits = [300, 290, 330, 310, 320, 300, 310, 305, 320, 330, 310, 295];
                    const rollingElectricUnits = [500, 510, 490, 520, 540, 530, 510, 520, 525, 530, 510, 500];
                    const rollingMonths = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
        
                    const ctxRolling1 = document.getElementById('rollingChart1').getContext('2d');
                    const rollingChart1 = new Chart(ctxRolling1, {
                        type: 'line',
                        data: {
                            labels: rollingMonths,
                            datasets: [
                                { label: 'Gas Usage (Units)', data: rollingGasUnits, borderColor: 'orange', fill: true },
                                { label: 'Electric Usage (Units)', data: rollingElectricUnits, borderColor: 'skyblue', fill: true }
                            ]
                        },
                        options: {
                            responsive: true,
                            plugins: { legend: { position: 'bottom' }, tooltip: { enabled: true } },
                            scales: {
                                y: { beginAtZero: true, title: { display: true, text: 'Usage (Units)' } },
                                x: { title: { display: true, text: 'Months' } }
                            }
                        }
                    });
                    window.location.href = "#energy-rolling-twelve-months1"
                }

                if ((property1Checkbox.checked && property2Checkbox.checked && !property3Checkbox.checked) || (!property1Checkbox.checked && property2Checkbox.checked && property3Checkbox.checked) || (property1Checkbox.checked && !property2Checkbox.checked && property3Checkbox.checked)){

                    document.getElementById('energy-rolling-twelve-months2').style.display = 'block';
                    const rollingGasUnits = [300, 290, 330, 310, 320, 300, 310, 305, 320, 330, 310, 295];
                    const rollingGasUnits2 = [320, 300, 300, 290, 300, 280, 270, 285, 260, 300, 290, 235];
                    const rollingElectricUnits = [500, 510, 490, 520, 540, 530, 510, 520, 525, 530, 510, 500];
                    const rollingElectricUnit2 = [450, 460, 400, 470, 500, 490, 470, 450, 465, 500, 480, 420];
                    const rollingMonths = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
        
                    const ctxRolling2 = document.getElementById('rollingChart2').getContext('2d');
                    const rollingChart2 = new Chart(ctxRolling2, {
                        type: 'line',
                        data: {
                            labels: rollingMonths,
                            datasets: [
                                { label: '123 Main Gas Usage (Units)', data: rollingGasUnits, borderColor: 'yellow', fill: true },
                                { label: '456 Elm Gas Usage (Units)', data: rollingGasUnits2, borderColor: 'orange', fill: true },
                                { label: '123 Main Electric Usage (Units)', data: rollingElectricUnits, borderColor: 'skyblue', fill: true },
                                { label: '456 Elm Electric Usage (Units)', data: rollingElectricUnit2, borderColor: 'blue', fill: true }
                            ]
                        },
                        options: {
                            responsive: true,
                            plugins: { legend: { position: 'bottom' }, tooltip: { enabled: true } },
                            scales: {
                                y: { beginAtZero: true, title: { display: true, text: 'Usage (Units)' } },
                                x: { title: { display: true, text: 'Months' } }
                            }
                        }
                    });
                    window.location.href = "#energy-rolling-twelve-months2"
                }
                if (property1Checkbox.checked && property2Checkbox.checked && property3Checkbox.checked){

                    document.getElementById('energy-rolling-twelve-months3').style.display = 'block';

                    const rollingGasUnits = [300, 290, 330, 310, 320, 300, 310, 305, 320, 330, 310, 295];
                    const rollingGasUnits2 = [320, 300, 300, 290, 300, 280, 270, 285, 260, 300, 290, 235];
                    const rollingGasUnits3 = [290, 250, 270, 230, 260, 220, 210, 245, 190, 210, 210, 155];
                    const rollingElectricUnits = [500, 510, 490, 520, 540, 530, 510, 520, 525, 530, 510, 500];
                    const rollingElectricUnit2 = [450, 460, 400, 470, 500, 490, 470, 450, 465, 500, 480, 420];
                    const rollingElectricUnit3 = [350, 360, 300, 370, 400, 390, 370, 350, 365, 300, 380, 320];

                    const rollingMonths = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
        
                    const ctxRolling2 = document.getElementById('rollingChart3').getContext('2d');
                    const rollingChart2 = new Chart(ctxRolling2, {
                        type: 'line',
                        data: {
                            labels: rollingMonths,
                            datasets: [
                                { label: '123 Main Gas Usage (Units)', data: rollingGasUnits, borderColor: 'yellow', fill: true },
                                { label: '456 Elm Gas Usage (Units)', data: rollingGasUnits2, borderColor: 'orange', fill: true },
                                { label: '789 Oak Gas Usage (Units)', data: rollingGasUnits3, borderColor: 'red', fill: true },
                                { label: '123 Main Electric Usage (Units)', data: rollingElectricUnits, borderColor: 'skyblue', fill: true },
                                { label: '456 Elm Electric Usage (Units)', data: rollingElectricUnit2, borderColor: 'blue', fill: true },
                                { label: '789 Oak Electric Usage (Units)', data: rollingElectricUnit3, borderColor: 'green', fill: true }
                            ]
                        },
                        options: {
                            responsive: true,
                            plugins: { legend: { position: 'bottom' }, tooltip: { enabled: true } },
                            scales: {
                                y: { beginAtZero: true, title: { display: true, text: 'Usage (Units)' } },
                                x: { title: { display: true, text: 'Months' } }
                            }
                        }
                    });
                    window.location.href = "#energy-rolling-twelve-months3"
                }
                 // Rolling Twelve Months Chart (mock data with fluctuations)
                
            }
            if(chartID === 'water-rolling-twelve-months'){
                const property1Checkbox = document.querySelector('[data-property="property1"]');
                const property2Checkbox = document.querySelector('[data-property="property2"]');
                const property3Checkbox = document.querySelector('[data-property="property3"]');


                if ((property1Checkbox.checked && !property2Checkbox.checked && !property3Checkbox.checked) || (!property1Checkbox.checked && property2Checkbox.checked && !property3Checkbox.checked) || (!property1Checkbox.checked && !property2Checkbox.checked && property3Checkbox.checked)) {

                    document.getElementById('water-rolling-twelve-months1').style.display = 'block';

                    const rollingWaterUnits = [300, 290, 330, 310, 320, 300, 310, 305, 320, 330, 310, 295];
                    const rollingBudgetUnits = [500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500];
                    const rollingMonths = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
        
                    const ctxRolling1 = document.getElementById('waterRollingChart1').getContext('2d');
                    const rollingChart1 = new Chart(ctxRolling1, {
                        type: 'line',
                        data: {
                            labels: rollingMonths,
                            datasets: [
                                { label: 'Water Usage (Units)', data: rollingWaterUnits, borderColor: 'orange', fill: true },
                                { label: 'Monthly Budget (Units)', data: rollingBudgetUnits, borderColor: 'red', fill: true }
                            ]
                        },
                        options: {
                            responsive: true,
                            plugins: { legend: { position: 'bottom' }, tooltip: { enabled: true } },
                            scales: {
                                y: { beginAtZero: true, title: { display: true, text: 'Usage (Units)' } },
                                x: { title: { display: true, text: 'Months' } }
                            }
                        }
                    });
                    window.location.href = "#water-rolling-twelve-months1"
                }
                if ((property1Checkbox.checked && property2Checkbox.checked && !property3Checkbox.checked) || (!property1Checkbox.checked && property2Checkbox.checked && property3Checkbox.checked) || (property1Checkbox.checked && !property2Checkbox.checked && property3Checkbox.checked)){
                    document.getElementById('water-rolling-twelve-months2').style.display = 'block';

                    const rollingWaterUnits = [300, 290, 330, 310, 320, 300, 310, 305, 320, 330, 310, 295];
                    const rollingWaterUnits2 = [320, 300, 350, 360, 370, 350, 380, 295, 360, 380, 390, 395];
                    const rollingBudgetUnits = [500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500];
                    const rollingMonths = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
        
                    const ctxRolling2 = document.getElementById('waterRollingChart2').getContext('2d');
                    const rollingChart2 = new Chart(ctxRolling2, {
                        type: 'line',
                        data: {
                            labels: rollingMonths,
                            datasets: [
                                { label: '123 Main Water Usage (Units)', data: rollingWaterUnits, borderColor: 'orange', fill: true },
                                { label: '456 Elm Water Usage (Units)', data: rollingWaterUnits2, borderColor: 'blue', fill: true },
                                { label: 'Monthly Budget (Units)', data: rollingBudgetUnits, borderColor: 'red', fill: true }
                            ]
                        },
                        options: {
                            responsive: true,
                            plugins: { legend: { position: 'bottom' }, tooltip: { enabled: true } },
                            scales: {
                                y: { beginAtZero: true, title: { display: true, text: 'Usage (Units)' } },
                                x: { title: { display: true, text: 'Months' } }
                            }
                        }
                    });
                    window.location.href = "#water-rolling-twelve-months2"
                }
                if (property1Checkbox.checked && property2Checkbox.checked && property3Checkbox.checked){
                    let targetSection = document.getElementById('water-rolling-twelve-months3').style.display = 'block';
                    

                    const rollingWaterUnits = [300, 290, 330, 310, 320, 300, 310, 305, 320, 330, 310, 295];
                    const rollingWaterUnits2 = [320, 300, 350, 360, 370, 350, 380, 295, 360, 380, 390, 395];
                    const rollingWaterUnits3 = [420, 400, 450, 460, 470, 450, 480, 395, 460, 480, 490, 495];
                    const rollingBudgetUnits = [500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500];
                    const rollingMonths = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
        
                    const ctxRolling3 = document.getElementById('waterRollingChart3').getContext('2d');
                    const rollingChart3 = new Chart(ctxRolling3, {
                        type: 'line',
                        data: {
                            labels: rollingMonths,
                            datasets: [
                                { label: '123 Main Water Usage (Units)', data: rollingWaterUnits, borderColor: 'orange', fill: true },
                                { label: '456 Elm Water Usage (Units)', data: rollingWaterUnits2, borderColor: 'blue', fill: true },
                                { label: '789 Oak Water Usage (Units)', data: rollingWaterUnits3, borderColor: 'green', fill: true },
                                { label: 'Monthly Budget (Units)', data: rollingBudgetUnits, borderColor: 'red', fill: true }
                            ]
                        },
                        options: {
                            responsive: true,
                            plugins: { legend: { position: 'bottom' }, tooltip: { enabled: true } },
                            scales: {
                                y: { beginAtZero: true, title: { display: true, text: 'Usage (Units)' } },
                                x: { title: { display: true, text: 'Months' } }
                            }
                        }
                    });

                    window.location.href = "#water-rolling-twelve-months3"
                }
                 // Rolling Twelve Months Chart (mock data with fluctuations)
                
            }
        }
    
        function loadEnergyLineChart1(chartID){
            if(chartID === 'energy-year-to-date'){

                const property1Checkbox = document.querySelector('[data-property="property1"]');
                const property2Checkbox = document.querySelector('[data-property="property2"]');
                const property3Checkbox = document.querySelector('[data-property="property3"]');


                if ((property1Checkbox.checked && !property2Checkbox.checked && !property3Checkbox.checked) || (!property1Checkbox.checked && property2Checkbox.checked && !property3Checkbox.checked) || (!property1Checkbox.checked && !property2Checkbox.checked && property3Checkbox.checked)) {

                    document.getElementById('energy-year-to-date1').style.display = 'block';
                    const ctxLine = document.getElementById('EnergylineChart1').getContext('2d');
                    const lineChart = new Chart(ctxLine, {
                        type: 'line',
                        data: {
                            labels: ['July', 'August', 'September', 'October', 'November', 'December'],
                            datasets: [
                                { label: 'Electric Usage (Units)', data: [300, 350, 390, 400, 310, 300], borderColor: 'skyblue', fill: true },
                                { label: 'Gas Usage (Units)', data: [200, 420, 190, 510, 230, 400], borderColor: 'orange', fill: true }
                            ]
                        },
                        options: {
                            responsive: true,
                            plugins: { legend: { position: 'bottom' }, tooltip: { enabled: true } },
                            scales: {
                                y: { beginAtZero: true, title: { display: true, text: 'Usage (Units/Dollars)' } },
                                x: { title: { display: true, text: 'Months' } }
                            }
                        }
                    });
                    window.location.href = "#energy-year-to-date1"
                }
                if ((property1Checkbox.checked && property2Checkbox.checked && !property3Checkbox.checked) || (!property1Checkbox.checked && property2Checkbox.checked && property3Checkbox.checked) || (property1Checkbox.checked && !property2Checkbox.checked && property3Checkbox.checked)){

                        document.getElementById('energy-year-to-date2').style.display = 'block';
                        const ctxLine2 = document.getElementById('EnergylineChart2').getContext('2d');
                        const lineChart2 = new Chart(ctxLine2, {
                            type: 'line',
                            data: {
                                labels: ['July', 'August', 'September', 'October', 'November', 'December'],
                                datasets: [
                                    { label: '123 Main Electric Usage (Units)', data: [310, 290, 300, 320, 390, 350], borderColor: 'skyblue', fill: true },
                                    { label: '456 Elm Electric Usage (Units)', data: [380, 275, 420, 350, 300, 400], borderColor: 'skyblue', fill: true },
                                    { label: '123 Main Gas Usage (Units)', data: [200, 420, 190, 510, 230, 400], borderColor: 'orange', fill: true },
                                    { label: '456 Elm Gas Usage (Units)', data: [180, 380, 200, 450, 190, 370], borderColor: 'orange', fill: true }
                                ]
                            },
                            options: {
                                responsive: true,
                                plugins: { legend: { position: 'bottom' }, tooltip: { enabled: true } },
                                scales: {
                                    y: { beginAtZero: true, title: { display: true, text: 'Usage (Units/Dollars)' } },
                                    x: { title: { display: true, text: 'Months' } }
                                }
                            }
                        });
                        window.location.href = "#energy-year-to-date2"
                }
                if (property1Checkbox.checked && property2Checkbox.checked && property3Checkbox.checked){

                    document.getElementById('energy-year-to-date3').style.display = 'block';

                    const ctxLine3 = document.getElementById('EnergylineChart3').getContext('2d');
                    const lineChart3 = new Chart(ctxLine3, {
                        type: 'line',
                        data: {
                            labels: ['July', 'August', 'September', 'October', 'November', 'December'],
                            datasets: [
                                { label: '123 Main Electric Usage (Units)', data: [310, 290, 300, 320, 390, 350], borderColor: 'skyblue', fill: true },
                                { label: '456 Elm Electric Usage (Units)', data: [380, 275, 420, 350, 300, 400], borderColor: 'yellow', fill: true },
                                { label: '789 Oak Electric Usage (Units)', data: [370, 215, 320, 330, 350, 200], borderColor: 'lightgreen', fill: true },
                                { label: '123 Main Gas Usage (Units)', data: [200, 420, 190, 510, 230, 400], borderColor: 'blue', fill: true },
                                { label: '456 Elm Gas Usage (Units)', data: [180, 380, 200, 450, 190, 370], borderColor: 'orange', fill: true },
                                { label: '789 Oak Gas Usage (Units)', data: [280, 280, 100, 350, 290, 270], borderColor: 'green', fill: true }
                            ]
                        },
                        options: {
                            responsive: true,
                            plugins: { legend: { position: 'bottom' }, tooltip: { enabled: true } },
                            scales: {
                                y: { beginAtZero: true, title: { display: true, text: 'Usage (Units/Dollars)' } },
                                x: { title: { display: true, text: 'Months' } }
                            }
                        }
                    });
                    window.location.href = "#energy-year-to-date3"
                }
                // Energy Line Chart
            
            }
            if(chartID === 'water-year-to-date'){
                 // Select the checkboxes for the first two properties
                const property1Checkbox = document.querySelector('[data-property="property1"]');
                const property2Checkbox = document.querySelector('[data-property="property2"]');
                const property3Checkbox = document.querySelector('[data-property="property3"]');


                // Check if property1 and property2 are selected, and property3 is not selected
                if ((property1Checkbox.checked && !property2Checkbox.checked && !property3Checkbox.checked) || (!property1Checkbox.checked && property2Checkbox.checked && !property3Checkbox.checked) || (!property1Checkbox.checked && !property2Checkbox.checked && property3Checkbox.checked)){
                    document.getElementById('water-year-to-date1').style.display = 'block';

                    const ctxLine = document.getElementById('waterLineChart1').getContext('2d');
                    const lineChart = new Chart(ctxLine, {
                        type: 'line',
                        data: {
                            labels: ['July', 'August', 'September', 'October', 'November', 'December'],
                            datasets: [
                                { label: 'Water Usage (Units)', data: [300, 320, 290, 310, 330, 300], borderColor: 'orange', fill: true },
                                { label: 'Monthly Budget (Units)', data: [400, 400, 400, 400, 400, 400], borderColor: 'red', fill: true }
                            ]
                        },
                        options: {
                            responsive: true,
                            plugins: { legend: { position: 'bottom' }, tooltip: { enabled: true } },
                            scales: {
                                y: { beginAtZero: true, title: { display: true, text: 'Usage (Units/Dollars)' } },
                                x: { title: { display: true, text: 'Months' } }
                            }
                        }
                    });
                    window.location.href = "#water-year-to-date1"
                }
                if ((property1Checkbox.checked && property2Checkbox.checked && !property3Checkbox.checked) || (!property1Checkbox.checked && property2Checkbox.checked && property3Checkbox.checked) || (property1Checkbox.checked && !property2Checkbox.checked && property3Checkbox.checked)){
                    document.getElementById('water-year-to-date2').style.display = 'block';

                    const ctxLine2 = document.getElementById('waterLineChart2').getContext('2d');
                    const lineChart2 = new Chart(ctxLine2, {
                        type: 'line',
                        data: {
                            labels: ['July', 'August', 'September', 'October', 'November', 'December'],
                            datasets: [
                                { label: '123 Main Water Usage (Units)', data: [300, 320, 290, 310, 330, 300], borderColor: 'orange', fill: true },
                                { label: '456 Elm Water Usage (Units)', data: [350, 370, 390, 410, 380, 400], borderColor: 'yellow', fill: true },
                                { label: 'Montly Budget (Units)', data: [400, 400, 400, 400, 400, 400], borderColor: 'red', fill: true }
                            ]
                        },
                        options: {
                            responsive: true,
                            plugins: { legend: { position: 'bottom' }, tooltip: { enabled: true } },
                            scales: {
                                y: { beginAtZero: true, title: { display: true, text: 'Usage (Units/Dollars)' } },
                                x: { title: { display: true, text: 'Months' } }
                            }
                        }
                    });
                    window.location.href = "#water-year-to-date2"
                }
                if (property1Checkbox.checked && property2Checkbox.checked && property3Checkbox.checked){
                    document.getElementById('water-year-to-date3').style.display = 'block';

                    const ctxLine3 = document.getElementById('waterLineChart3').getContext('2d');
                    const lineChart3 = new Chart(ctxLine3, {
                        type: 'line',
                        data: {
                            labels: ['July', 'August', 'September', 'October', 'November', 'December'],
                            datasets: [
                                { label: '123 Main Water Usage (Units)', data: [300, 320, 290, 310, 330, 300], borderColor: 'orange', fill: true },
                                { label: '456 Elm Water Usage (Units)', data: [350, 370, 390, 410, 380, 400], borderColor: 'yellow', fill: true },
                                { label: '789 Oak Water Usage (Units)', data: [380, 420, 400, 380, 350, 320], borderColor: 'green', fill: true },
                                { label: 'Montly Budget (Units)', data: [400, 400, 400, 400, 400, 400], borderColor: 'red', fill: true }
                            ]
                        },
                        options: {
                            responsive: true,
                            plugins: { legend: { position: 'bottom' }, tooltip: { enabled: true } },
                            scales: {
                                y: { beginAtZero: true, title: { display: true, text: 'Usage (Units/Dollars)' } },
                                x: { title: { display: true, text: 'Months' } }
                            }
                        }
                    });
                    window.location.href = "#water-year-to-date3"
                }
                // Energy Line Chart
            }
            
        }
        
        function loadEnergyBarChart1(chartID) {
            if (chartID === 'energy-month-end'){
                // Select the checkboxes for the first two properties
                const property1Checkbox = document.querySelector('[data-property="property1"]');
                const property2Checkbox = document.querySelector('[data-property="property2"]');
                const property3Checkbox = document.querySelector('[data-property="property3"]');


                // Check if property1 and property2 are selected, and property3 is not selected
                if ((property1Checkbox.checked && !property2Checkbox.checked && !property3Checkbox.checked) || (!property1Checkbox.checked && property2Checkbox.checked && !property3Checkbox.checked) || (!property1Checkbox.checked && !property2Checkbox.checked && property3Checkbox.checked)) {

                    document.getElementById('energy-month-end1').style.display = 'block';

                    const singleunitData = [3200, 4500, 7700]; // Gas, Electricity, Cumulative Total (in units)
                    const singlelabels = ['Gas', 'Electricity', 'Cumulative Total'];
                    const singlecolors = ['orange', 'skyblue', 'green'];

                    const ctxBar1 = document.getElementById('energyBarChart1').getContext('2d');
                    const energyChart1 = new Chart(ctxBar1, {
                        type: 'bar',
                        data: {
                            labels: singlelabels,
                            datasets: [{
                                label: '', // No legend label
                                data: singleunitData,
                                backgroundColor: singlecolors
                            }]
                        },
                        options: {
                            responsive: true,
                            plugins: {
                                legend: { display: false },
                                tooltip: { enabled: true }
                            },
                            scales: {
                                y: { beginAtZero: true, title: { display: true, text: 'Energy Usage' } }
                            }
                        }
                    });
                    window.location.href = "#energy-month-end1"
                }
               
                if ((property1Checkbox.checked && property2Checkbox.checked && !property3Checkbox.checked) || (!property1Checkbox.checked && property2Checkbox.checked && property3Checkbox.checked) || (property1Checkbox.checked && !property2Checkbox.checked && property3Checkbox.checked)){

                    document.getElementById('energy-month-end2').style.display = 'block';

                    const doubleUnitData = [3200, 3000, 4500, 3850, 7700, 6850]; // Gas, Electricity, Cumulative Total (in units)
                    const doubleLabels = ['123 Main Gas', '456 Elm Gas', '123 Main Electricity', '456 Elm Electricity', '123 Main Cumulative Total', '456 Elm cumulative Total'];
                    const doubleColors = ['skyblue', 'blue', 'skyblue', 'blue', 'skyblue', 'blue'];
                    
                    const ctxBar2 = document.getElementById('energyBarChart2').getContext('2d');
                    const energyChart2 = new Chart(ctxBar2, {
                        type: 'bar',
                        data: {
                            labels: doubleLabels,
                            datasets: [{
                                label: '', // No legend label
                                data: doubleUnitData,
                                backgroundColor: doubleColors
                            }]
                        },
                        options: {
                            responsive: true,
                            plugins: {
                                legend: { display: false },
                                tooltip: { enabled: true }
                            },
                            scales: {
                                y: { beginAtZero: true, title: { display: true, text: 'Energy Usage' } }
                            }
                        }
                    });
                    window.location.href = "#energy-month-end2"
                }
                if (property1Checkbox.checked && property2Checkbox.checked && property3Checkbox.checked){
                    document.getElementById('energy-month-end3').style.display = 'block';

                    const tripleUnitData = [3200, 3000,2500,  4500, 3850, 4200, 7700, 6850, 6700]; // Gas, Electricity, Cumulative Total (in units)
                    const tripleLabels = ['123 Main Gas', '456 Elm Gas', '789 Oak Gas', '123 Main Electricity', '456 Elm Electricity', '789 Oak Electricity', '123 Main Cumulative Total', '456 Elm cumulative Total','789 Oak Cumulative Total' ];
                    const tripleColors = ['skyblue', 'blue', 'green', 'skyblue', 'blue', 'green', 'skyblue', 'blue', 'green'];
                    
                    const ctxBar3 = document.getElementById('energyBarChart3').getContext('2d');
                    const energyChart3 = new Chart(ctxBar3, {
                        type: 'bar',
                        data: {
                            labels: tripleLabels,
                            datasets: [{
                                label: '', // No legend label
                                data: tripleUnitData,
                                backgroundColor: tripleColors
                            }]
                        },
                        options: {
                            responsive: true,
                            plugins: {
                                legend: { display: false },
                                tooltip: { enabled: true }
                            },
                            scales: {
                                y: { beginAtZero: true, title: { display: true, text: 'Energy Usage' } }
                            }
                        }
                    });
                    window.location.href = "#energy-month-end3"
                }
            }
    
            if (chartID === 'water-month-end'){

                const property1Checkbox = document.querySelector('[data-property="property1"]');
                const property2Checkbox = document.querySelector('[data-property="property2"]');
                const property3Checkbox = document.querySelector('[data-property="property3"]');

                if ((property1Checkbox.checked && !property2Checkbox.checked && !property3Checkbox.checked) || (!property1Checkbox.checked && property2Checkbox.checked && !property3Checkbox.checked) || (!property1Checkbox.checked && !property2Checkbox.checked && property3Checkbox.checked)) {

                    document.getElementById('water-month-end1').style.display = 'block';

                    const unitData = [3200, 3500]; // Gas, Electricity, Cumulative Total (in units)
                    const labels = ['123 Main Water Usage', 'Monthly Budget'];
                    const colors = ['orange', 'red'];
        
                    // Energy Bar Chart
                    const ctxBar = document.getElementById('waterChart1').getContext('2d');
                    const energyChart = new Chart(ctxBar, {
                        type: 'bar',
                        data: {
                            labels: labels,
                            datasets: [{
                                label: '', // No legend label
                                data: unitData,
                                backgroundColor: colors
                            }]
                        },
                        options: {
                            responsive: true,
                            plugins: {
                                legend: { display: false },
                                tooltip: { enabled: true }
                            },
                            scales: {
                                y: { beginAtZero: true, title: { display: true, text: 'Energy Usage' } }
                            }
                        }
                    });

                }
                if ((property1Checkbox.checked && property2Checkbox.checked && !property3Checkbox.checked) || (!property1Checkbox.checked && property2Checkbox.checked && property3Checkbox.checked) || (property1Checkbox.checked && !property2Checkbox.checked && property3Checkbox.checked)){
                    document.getElementById('water-month-end2').style.display = 'block';

                    const unitData = [3200, 2900, 3500]; // Gas, Electricity, Cumulative Total (in units)
                    const labels = ['123 Main Water Usage', '456 Elm Water Usage', 'Monthly Budget'];
                    const colors = ['orange', 'yellow', 'red'];
        
                    // Energy Bar Chart
                    const ctxBar2 = document.getElementById('waterChart2').getContext('2d');
                    const energyChart2 = new Chart(ctxBar2, {
                        type: 'bar',
                        data: {
                            labels: labels,
                            datasets: [{
                                label: '', // No legend label
                                data: unitData,
                                backgroundColor: colors
                            }]
                        },
                        options: {
                            responsive: true,
                            plugins: {
                                legend: { display: false },
                                tooltip: { enabled: true }
                            },
                            scales: {
                                y: { beginAtZero: true, title: { display: true, text: 'Energy Usage' } }
                            }
                        }
                    });
                }
                if (property1Checkbox.checked && property2Checkbox.checked && property3Checkbox.checked){
                    document.getElementById('water-month-end3').style.display = 'block';

                    const unitData = [3200, 2900, 2500, 3500]; // Gas, Electricity, Cumulative Total (in units)
                    const labels = ['123 Main Water Usage', '456 Elm Water Usage', '789 Oak Water Usage', 'Monthly Budget'];
                    const colors = ['orange', 'yellow', 'green', 'red'];

                    // Energy Bar Chart
                    const ctxBar3 = document.getElementById('waterChart3').getContext('2d');
                    const energyChart3 = new Chart(ctxBar3, {
                        type: 'bar',
                        data: {
                            labels: labels,
                            datasets: [{
                                label: '', // No legend label
                                data: unitData,
                                backgroundColor: colors
                            }]
                        },
                        options: {
                            responsive: true,
                            plugins: {
                                legend: { display: false },
                                tooltip: { enabled: true }
                            },
                            scales: {
                                y: { beginAtZero: true, title: { display: true, text: 'Energy Usage' } }
                            }
                        }
                    }); 
                }
            }
        }
    
    </script>

<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

</body>
</html>